<div class="container mt-5">
  <div class="card">
    <div class="card-header">
      Package Hotel
    </div>
    <div class="card-body">
      <form [formGroup]="hotelForm" (ngSubmit)="updateHotel()">
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Hotel Name
              </span>
            </div>
            <input formControlName="name" class="form-control"
              [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('name').errors }" />
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('name').errors?.required">
                Please enter your Hotel Name
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Overview
              </span>
            </div>
            <textarea formControlName="overview" class="form-control"
              [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('overview').errors }">
            </textarea>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('overview').errors?.required">
                Please enter your Hotel Overview
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Hotel Image
              </span>
            </div>
            <input formControlName="hotelImage" class="form-control" 
            [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('hotelImage').errors }"/>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('hotelImage').errors?.required">
                Please enter your Hotel imageUrl
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Region
              </span>
            </div>
            <input [(ngModel)]="searchRegion" typeaheadOptionField="name" [typeahead]="regions$"
              formControlName="region" [typeaheadAsync]="true" [typeaheadOptionsLimit]="limit"
              (typeaheadOnSelect)="selectRegion($event.item)" class="form-control"
              [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('region').errors }" />
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('region').errors?.required">
                Please enter Region.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                City
              </span>
            </div>
            <input [(ngModel)]="searchCity" typeaheadOptionField="displayName" [typeahead]="citys$"
              formControlName="city" [typeaheadAsync]="true" [typeaheadOptionsLimit]="limit"
              (typeaheadOnSelect)="selectCity($event.item)" class="form-control"
              [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('city').errors }" />
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('city').errors?.required">
                Please enter City.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Breakfast
              </span>
            </div>
            <select class="form-control custom-select" formControlName="breakfast" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('breakfast').errors }" >
              <!-- <option value="">-- Select Option --</option> -->
              <option value="true">Yes</option>
              <option value="false">No</option>
            </select>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('breakfast').errors?.required">
                Please Select Breakfast option.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Remark
              </span>
            </div>
            <input formControlName="remark" class="form-control" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('remark').errors }"/>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('remark').errors?.required">
                Please Enter Remark.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Star Rate
              </span>
            </div>
            <input formControlName="starRate" class="form-control" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('starRate').errors }"/>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('starRate').errors?.required">
                Please Enter StarRate value( number).
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Latitude
              </span>
            </div>
            <input formControlName="latitude" class="form-control" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('latitude').errors }"/>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('latitude').errors?.required">
                Please Enter Latitude value( number).
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Longitude
              </span>
            </div>
            <input formControlName="longitude" class="form-control" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('longitude').errors }"/>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('longitude').errors?.required">
                Please Enter Longitude value( number).
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">
                Additional Info
              </span>
            </div>
            <textarea formControlName="additionalInfo" class="form-control" [ngClass]="{ 'is-invalid': formSubmitError && hotelForm.get('additionalInfo').errors }">
            </textarea>
            <span class="invalid-feedback">
              <span *ngIf="hotelForm.get('additionalInfo').errors?.required">
                Please Enter AdditionalInfo.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group">
          <label class="m-0">Full Facility Description</label>
          <tag-input formControlName="fullFacilityDescriptions" [onlyFromAutocomplete]="true" theme='bootstrap'
            [placeholder]="'Add facility'" displayBy="name" identifyBy="id">
            <tag-input-dropdown [showDropdownIfEmpty]="true" displayBy="name" identifyBy="id"
              [autocompleteObservable]="facilityListAutoComplete">
            </tag-input-dropdown>
          </tag-input>
        </div>
        <div class="roomImages">
          <div formArrayName="romImages">
            <div class="row" *ngFor="let roomImage of roomImagesControls; let i = index" [formGroupName]="i">
              <div class="col-2"><b>Image</b> <span class="rcount text-danger border text-center"
                  style="background: #eeeeee;">
                  {{i + 1}}</span></div>
              <div class="col-9">
                <div class="form-group">
                  <label class="m-0">Image</label>
                  <input formControlName='image' class="form-control" />
                </div>
              </div>
              <div class="col-1 d-flex align-items-center align-self-center mt-sm-2 mb-sm-2" *ngIf="i >= 1">
                <div (click)="removeRomImage(i)" style="cursor: pointer;">
                  <i class="fa fa-times-circle"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="add-room" (click)="addRomImage()" style="cursor:pointer;">
          <i class="fa fa-plus-circle"></i> Add Room Image
        </div>
        <input type="submit" name="submit" class="search-hotel btn btn-danger" value="Update Hotel" />
      </form>
    </div>
  </div>
</div>
